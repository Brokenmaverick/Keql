<!DOCTYPE html>
<html lang="en">

<head>
    <title>Keql</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/timeline.css">
    <link rel="stylesheet" href="assets/css/animation.css">
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://js.api.here.com/v3/3.0/mapsjs-ui.css?dp-version=1533195059" />
    <script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-core.js"></script>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-service.js"></script>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-ui.js"></script>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-mapevents.js"></script>
    <style>


        html {
  height: 100%;
}
body {
  min-height: 100%; 
    background-color: #9EA9C1;
}
      
    /* Remove the navbar's default margin-bottom and rounded borders */ 
    .navbar {
      margin-bottom: 0;
      border-radius: 0;
    }
    
    /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
    /*.row.content {height: 450px}*/
    
    /* Set gray background color and 100% height */
    .sidenav {
      padding-top: 20px;
      background-color: #f1f1f1;
      height: 100%;
    }
    
    /* Set black background color, white text and some padding */
    footer {
      background-color: #555;
      color: white;
      padding: 15px;
    }
      
      .modal-background{
          padding-right: 3px;
          padding-left: 3px;
      }
      
      .cuerpo{
          margin: 10px;
          min-height: 100%;
          
      }
      
      .modal-cuerpo{
           margin: 0px;
           border-radius: 8px;
          background-color: #E2E2E2;
          min-height: 90%;
          
          position: absolute;
          width: 100%;
      }
      
      .modal-1{
          min-height: 150px ;
          /*background-color: red;*/
      }
      .modal-2{
          min-height: 350px ;
          /*background-color: blue;*/
      }
      .modal-3{
          min-height: 100px;
          /*background-color: blueviolet;*/
      }
      .modal-4{
          min-height: 400px;
          margin-top: 45px;
          /*background-color: orangered;*/
      }
        
        .modal-header {
    border-bottom: 0px ;
        }
        
        .lbl-direc{
            background-color: gainsboro;
            padding-left: 35px;
            padding-right: 35px;
            padding-top: 5px;
            padding-bottom: 5px;
            border-radius: 8px;
            margin-left:10px;
            opacity: .7;
        }
        
        .modal-1-icons>div{
            padding: 5px;
            margin-top: 15px;
        }
        
         .desaparecido{
            display: none;
        }
      
    
    /* On small screens, set height to 'auto' for sidenav and grid */
    @media screen and (max-width: 767px) {
      .sidenav {
        height: auto;
        padding: 15px;
      }
      .row.content {height:auto;} 
    }
  </style>
</head>

<script type="text/javascript" charset="UTF-8">
    /**
     * Moves the map to display over Berlin
     *
     * @param  {H.Map} map      A HERE Map instance within the application
     */
    function moveMapToBerlin(map) {
        map.setCenter({
            lat: 21.12198,
            lng: -101.63288
        });
        map.setZoom(11);
    }
    
     function appearAll() {

            $('.desaparecido').each(function() {
                $(this).css('display', 'block');
                $(this).addClass('first');
            });
        }

    /**
     * Boilerplate map initialization code starts below:
     */

    //Step 1: initialize communication with the platform
    var platform = new H.service.Platform({
        'app_id': '6wY8EzHmQYr8plBqYKoA',
        'app_code': 'LhWwXkBWf3ppam914eVvDQ',
        useHTTPS: true
    });
    var pixelRatio = window.devicePixelRatio || 1;
    var defaultLayers = platform.createDefaultLayers({
        tileSize: pixelRatio === 1 ? 256 : 512,
        ppi: pixelRatio === 1 ? undefined : 320
    });

    //Step 2: initialize a map  - not specificing a location will give a whole world view.
    var map = new H.Map(document.getElementById('map'),
        defaultLayers.normal.map, {
            pixelRatio: pixelRatio
        });

    //Step 3: make the map interactive
    // MapEvents enables the event system
    // Behavior implements default interactions for pan/zoom (also on mobile touch environments)
    var behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(map));

    // Create the default UI components
    var ui = H.ui.UI.createDefault(map, defaultLayers);

    // Now use the map as required...
    moveMapToBerlin(map);

</script>

<body>

    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="main.html"><img src="keql_logo.png" width="55px"></a>
                <!--Aqui va el logo-->
            </div>

            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">

                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><img src="assets/img/taco.png" width="50px" /></li>
                </ul>
            </div>

        </div>
    </nav>

    <div class="container-fluid text-center cuerpo">
        <div class="row content">
            <div class="col-sm-12 text-left">
                <div class="modal-header">
                    <label class="lbl-direc">UTL Leon, Av. Tecnologica Univ</label>
                    <label> to </label>
                    <label class="lbl-direc"> Avenida Guty Cardenas </label>
                    <button class="btn btn-default" onclick="ReloadMap()">></button>

                </div>
            </div>

        </div>


        <div class="container-fluid container-cuerpo">
            <div class="row">
                <div class="col-sm-7">

                    <div class="col-sm-12 modal-background modal-1">
                        <div class="modal-cuerpo">

                            <div class="container-fluid">
                                <div class="row modal-1-icons desaparecido">
                                    <div class="col-sm-3 icon-modal-1">
                                        <img src="assets/img/porcentaje.png" width="75px;">
                                        <label>Calificacion de la ruta</label>
                                    </div>
                                    <div class="col-sm-3 icon-modal-1">
                                        <p>
                                            Ruta utilizada por <label>3400</label> usuarios
                                        </p>
                                        <label style="font-size: 25px;">98% Seguro</label>
                                    </div>
                                    <div class="col-sm-3">
                                        <img src="assets/svg/car.svg" width="75px;">
                                        <br>
                                        <label>Choques</label>
                                    </div>
                                    <div class="col-sm-3">
                                        <p>
                                            Choques no tan frecuentes <label>6</label> registrados en los ultimos 3 meses
                                        </p>
                                        <label style="font-size: 25px;">2% Inseguro</label>
                                    </div>
                                </div>
                            </div>



                        </div>
                    </div>

                    <div class="col-sm-12 modal-background modal-2">
                        <div class="modal-cuerpo">

                            <div id="map" style="width: 100%; height: 350px; background: grey" />
                        </div>
                    </div>


                </div>
            </div>
            <div class="row">
                <div class="col-sm-5">

                    <div class="col-sm-12 modal-background modal-3  ">
                        <div class="modal-cuerpo container desaparecido">

                            <label>Han utilizado esta ruta</label>
                            <div class="row">
                                <div class="col-sm-3">
                                    <img src="assets/img/user1.png" width="60px">
                                    <label>Gustavo</label>
                                </div>
                                <div class="col-sm-3">
                                    <div class="col-sm-3">
                                        <img src="assets/img/user2.png" width="60px">
                                        <label>Guillermo</label>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="col-sm-3">
                                        <img src="assets/img/user3.png" width="75px">
                                        <label>Osvaldo</label>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="col-sm-3">
                                        <img src="assets/img/user4.png" width="60px">
                                        <label>Ricardo</label>
                                    </div>
                                </div>
                            </div>
                            <br>
                        </div>
                    </div>

                    <div class="col-sm-12 modal-background modal-4">
                        <div class="modal-cuerpo  desaparecido"  >
                            <div class="timeline">
                                <div class="container-timeline right">
                                    <div class="content-timeline text-left">
                                        <p>Carretera con linea recta mas de 10 KM</p>
                                    </div>
                                </div>
                                <div class="container-timeline right">
                                    <div class="content-timeline text-left">
                                        <p>Distribuidor vial</p>
                                    </div>
                                </div>
                                <div class="container-timeline right">
                                    <div class="content-timeline text-left">
                                        <p>Trafico moderado</p>
                                    </div>
                                </div>
                                <div class="container-timeline right">
                                    <div class="content-timeline text-left">
                                        <p>Glorieta</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>


    <script type="text/javascript" charset="UTF-8">
        /**
         * Adds two SVG markers over the homes of the Chicago Bears and Chicago Cubs
         *
         * @param  {H.Map} map      A HERE Map instance within the application
         */
        function addSVGMarkers(map) {
            //Create the svg mark-up
            var svgMarkup = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="25px" height="25px" viewBox="0 0 611.962 611.962" style="enable-background:new 0 0 611.962 611.962;" xml:space="preserve"><g><path d="M372.8,165.581l-50.3,65.9l32.2-76.9c0.8-4,4-6.3,6.3-6.3c0.8,0,1.5,0.8,3.1,1.5l4.7,2.3l4.7,2.3   C377.6,156.981,376.8,160.781,372.8,165.581z M304.6,237.781l14.1-110.7c1.5-7.8-0.8-13.3-6.3-13.3H305.3c-1.5,0-8.6,0-8.6,0   c-5.5,0-7.8,4.7-6.3,13.3L304.6,237.781z M324.2,357.781c4.7,11,6.3,18.101,6.3,28.2v91.8v12.601c0,4-3.1,7.8-7.8,7.8h-40.8   c-4.7,0-7.8-3.101-7.8-7.8v-12.601v-13.3H56.6v13.3v12.601c0,4-3.1,7.8-7.8,7.8h-41c-4.7,0-7.8-3.101-7.8-7.8v-12.601v-91.8   c0-10.3,1.5-18.1,6.3-28.2l51-106.7c5.5-12.6,21.2-22.7,35.3-22.7H237c14.1,0,29.9,10.3,36.2,22.7L324.2,357.781z M45.5,353.181   H284l-34.5-73.7c-7.1-14.1-13.3-17.3-28.2-17.3h-113c-2.3,0-4,0-5.5,0c-11,1.5-16.5,5.5-21.9,17.3L45.5,353.181z M78.5,406.481   c0-14.1-11.8-25.1-25.9-25.1s-25.1,11-25.1,25.1s11,25.9,25.1,25.9S78.5,420.681,78.5,406.481z M302.9,406.481   c0-14.1-11.8-25.1-25.9-25.1s-25.1,11-25.1,25.1s11,25.9,25.1,25.9C291.1,432.481,302.9,420.681,302.9,406.481z M287.3,238.481   l-32.2-76.9c-1.5-4-4-6.3-6.3-6.3c-0.8,0-1.5,0-2.3,0s-0.8,0.8-1.5,0.8l-4.7,2.3l-4,3.1c-4,2.3-3.1,6.3,0.8,11L287.3,238.481z    M609.7,389.181l-23.601,88.7l-3.1,11.8c-0.8,4-5.5,6.3-9.4,5.5l-39.199-10.3c-4-0.801-6.301-5.5-5.5-9.4l3.1-11.8l4-12.601   l-193.9-51.8v-14.899c0-6.301-0.8-13.301-2.3-19.601c10.3-0.8,19.601-7.8,22.7-18.899c4-13.301-4.7-27.4-18.1-31.4   c-8.601-1.5-17.301,0.8-23.601,6.3l-18.1-37.7c0.8-0.8,1.5-2.3,2.3-3.1l76.9-89.5c7.1-8.6,18.899-13.3,29.899-14.1   c4,0,7.101,0,10.3,0.8l137.4,35.3c14.1,4,26.7,18.1,29,31.4l21.9,116.2C612.9,371.881,612.2,379.881,609.7,389.181z M576,348.481   l-14.9-80c-3.1-15.6-8.6-20.4-22.699-24.4l-109.101-29.9c-5.5-1.5-9.399-1.5-13.3-1.5c-6.3,0.8-11.8,4.7-18.1,11.8l-53.4,61.9   L576,348.481z M561.1,373.581c-1.5-0.8-3.1-0.8-4.699-0.8c-1.601,0-3.101,0-4.7,0c-10.3,0.8-18.9,7.8-21.2,18.9   c-4,13.3,4,27.399,17.3,31.399s27.4-4.699,31.4-18.1C583,391.481,574.5,377.381,561.1,373.581z" fill="#D80027"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>';

            var svgHome = '<svg xmlns="http://www.w3.org/2000/svg" height="25px" viewBox="0 0 611.962 611.962" width="25px"><path d="m196.644531 313.6875 52.691407-26.121094c2.09375-1.039062 4.378906-1.566406 6.664062-1.566406s4.570312.527344 6.664062 1.566406l52.691407 26.121094-59.355469-138.179688zm0 0" fill="#006DF0"/><path d="m91 256c0 90.980469 74.019531 165 165 165s165-74.019531 165-165-74.019531-165-165-165-165 74.019531-165 165zm178.785156-124.410156 89.238282 207.730468c2.472656 5.769532 1.097656 12.480469-3.472657 16.816407-4.492187 4.261719-11.269531 5.367187-16.980469 2.535156l-82.570312-40.929687-82.574219 40.929687c-5.640625 2.78125-12.40625 1.800781-16.976562-2.535156-4.570313-4.335938-5.945313-11.042969-3.472657-16.816407l89.238282-207.726562c4.746094-11.019531 22.824218-11.019531 27.570312-.003906zm0 0" fill="#006DF0"/><path d="m271 0v61.761719c95.546875 7.328125 171.910156 83.691406 179.238281 179.238281h61.761719c-7.539062-128.625-112.375-233.460938-241-241zm0 0" fill="#006DF0"/><path d="m0 241h61.761719c7.328125-95.546875 83.691406-171.910156 179.238281-179.238281v-61.761719c-128.625 7.539062-233.460938 112.375-241 241zm0 0" fill="#006DF0"/><path d="m241 512v-61.761719c-95.546875-7.328125-171.910156-83.691406-179.238281-179.238281h-61.761719c7.539062 128.625 112.375 233.460938 241 241zm0 0" fill="#006DF0"/><path d="m271 450.238281v61.761719c128.625-7.539062 233.460938-112.375 241-241h-61.761719c-7.328125 95.546875-83.691406 171.910156-179.238281 179.238281zm0 0" fill="#006DF0"/></svg>';

            var glorieta = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve" width="25px" height="25px"><g>  <g>    <path d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M118.932,357.893    L42.424,323.83l12.202-27.406l28.237,12.572c-19.212-62.905-2.879-132.984,45.134-180.997    c28.311-28.311,64.198-46.086,103.783-51.402c38.306-5.143,77.939,2.25,111.607,20.82l-14.49,26.27    c-28.076-15.488-61.147-21.647-93.123-17.357c-33.011,4.435-62.944,19.263-86.564,42.883c-40.136,40.136-53.74,98.748-37.57,151.3    l13.948-31.328l27.406,12.201L118.932,357.893z M429.137,203.006c19.212,62.905,2.879,132.984-45.134,180.997    c-28.311,28.311-64.198,46.086-103.783,51.402c-7.946,1.067-15.953,1.596-23.948,1.596c-30.546,0-60.975-7.698-87.659-22.416    l14.49-26.27c28.077,15.489,61.149,21.65,93.123,17.357c33.011-4.435,62.944-19.263,86.564-42.883    c40.136-40.136,53.74-98.748,37.57-151.3l-13.948,31.328l-27.406-12.201l34.062-76.509l76.508,34.063l-12.202,27.406    L429.137,203.006z" fill="#75a665"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>';

            var school = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="30px" height="30px" viewBox="0 0 444.059 444.059" style="enable-background:new 0 0 444.059 444.059;" xml:space="preserve"><g>  <g>    <g>      <path d="M357.76,312.234c-3.28-7.848-11.178-12.873-18.713-15.963l-50.938-23.455l-24.473-20.639l-39.323,39.111h-0.03     l16.971,113.445c0.061,0.389-0.04,0.787-0.271,1.105l-17.744,24.283c-0.282,0.391-0.732,0.617-1.212,0.617     c-0.48,0-0.93-0.229-1.212-0.617l-17.742-24.283c-0.234-0.318-0.332-0.719-0.273-1.105l16.969-113.447h-0.026l-39.321-39.109     l-24.473,20.639l-50.941,23.455c-7.537,3.09-14.943,7.783-18.711,15.963c0,0-55.371,131.824-25.338,131.824h322.145     C413.132,444.061,357.76,312.234,357.76,312.234z" fill="#f06000"/>      <path d="M361.298,131.489c0.767-0.083,1.457-0.449,1.932-1.042c0.481-0.592,0.698-1.355,0.613-2.114     c-0.57-4.869-1.143-9.728-1.708-14.597l-1.187-10.189c-0.181-1.521-1.542-2.627-3.074-2.49l-2.203,0.003l0.042-34.202     l1.153-0.419l3.845-1.388c3.256-1.178,5.424-4.265,5.424-7.724c0-3.46-2.168-6.548-5.424-7.727L224.819,0.49     c-1.807-0.653-3.783-0.653-5.586,0L83.339,49.6c-3.254,1.179-5.422,4.267-5.422,7.727c0,3.459,2.168,6.546,5.422,7.724     l50.236,18.155c-3.546,11.195-5.16,24.013-5.015,38.284c0.884,81.402,48.138,129.944,91.862,129.944     c43.213,0,90.979-48.542,91.859-129.944c0.146-13.832-1.379-26.291-4.697-37.238l36.528-13.2l0.077,30.021l-2.207-0.001     c-1.533-0.134-2.895,0.968-3.07,2.501l-2.857,24.788c-0.086,0.755,0.137,1.51,0.615,2.104c0.479,0.591,1.176,0.97,1.932,1.033      M220.428,231.666c-38.148,0-64.471-44.688-69.781-89.361c-4.91-41.314,54.838-43.237,58.308-17.63     c1.069,7.872-7.97,16.305-6.945,19.556c5.056,16.049,88.772-52.383,88.2-1.946C289.807,177.896,256.775,231.666,220.428,231.666z     " fill="#f06000"/>    </g>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'



            var UG = new H.map.Icon(
                    school.replace('${FILL}', 'blue').replace('${STROKE}', 'red')),
                UG = new H.map.Marker({
                    lat: 21.061649,
                    lng: -101.573920
                }, {
                    icon: UG
                });

            map.addObject(UG);


            var Us = new H.map.Icon(
                    school.replace('${FILL}', 'blue').replace('${STROKE}', 'red')),
                Us = new H.map.Marker({
                    lat: 21.113640,
                    lng: -101.706997
                }, {
                    icon: Us
                });

            map.addObject(Us);



            var Curret = new H.map.Icon(
                    svgHome.replace('${FILL}', 'blue').replace('${STROKE}', 'red')),
                Curret = new H.map.Marker({
                    lat: 21.06352,
                    lng: -101.58038
                }, {
                    icon: Curret
                });

            map.addObject(Curret);


            // Add the first marker
            var bearsIcon = new H.map.Icon(
                    svgMarkup.replace('${FILL}', 'blue').replace('${STROKE}', 'red')),
                bearsMarker = new H.map.Marker({
                    lat: 21.097318,
                    lng: -101.626148
                }, {
                    icon: bearsIcon
                });

            map.addObject(bearsMarker);

            // Add the second marker.
            var cubsIcon = new H.map.Icon(
                    svgMarkup.replace('${FILL}', 'white').replace('${STROKE}', 'orange')),
                cubsMarker = new H.map.Marker({
                    lat: 21.108909,
                    lng: -101.644290
                }, {
                    icon: cubsIcon
                });

            map.addObject(cubsMarker);

            var cubsIcon1 = new H.map.Icon(
                    svgMarkup.replace('${FILL}', 'white').replace('${STROKE}', 'orange')),
                cubsIcon1 = new H.map.Marker({
                    lat: 21.063274,
                    lng: -101.626883
                }, {
                    icon: cubsIcon1
                });

            map.addObject(cubsIcon1);

            var cubsIcon2 = new H.map.Icon(
                    svgMarkup.replace('${FILL}', 'white').replace('${STROKE}', 'orange')),
                cubsIcon2 = new H.map.Marker({
                    lat: 21.145171,
                    lng: -101.698787
                }, {
                    icon: cubsIcon2
                });

            map.addObject(cubsIcon2);


            var peligro = new H.map.Icon(
                    glorieta.replace('${FILL}', 'white').replace('${STROKE}', 'orange')),
                peligro = new H.map.Marker({
                    lat: 21.097613,
                    lng: -101.663897
                }, {
                    icon: peligro
                });

            map.addObject(peligro);


            var peligro2 = new H.map.Icon(
                    glorieta.replace('${FILL}', 'white').replace('${STROKE}', 'orange')),
                peligro2 = new H.map.Marker({
                    lat: 21.133816,
                    lng: -101.716627
                }, {
                    icon: peligro2
                });

            map.addObject(peligro2);

        }





        /**
         * Boilerplate map initialization code starts below:
         */

        //Step 1: initialize communication with the platform
        var platform = new H.service.Platform({
            'app_id': 'X5nuLxtZ23kmIz6KFgge',
            'app_code': 'bDfWKhk956QzQs_a4t18Wg',
            useHTTPS: true
        });
        var pixelRatio = window.devicePixelRatio || 1;
        var defaultLayers = platform.createDefaultLayers({
            tileSize: pixelRatio === 1 ? 256 : 512,
            ppi: pixelRatio === 1 ? undefined : 320
        });

        //Step 2: initialize a map - this map is centered over Chicago.
        var map = new H.Map(document.getElementById('map'),
            defaultLayers.normal.map, {
                center: {
                    lat: 21.06352,
                    lng: -101.58038
                },
                zoom: 15,
                pixelRatio: pixelRatio
            });

        //Step 3: make the map interactive
        // MapEvents enables the event system
        // Behavior implements default interactions for pan/zoom (also on mobile touch environments)
        var behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(map));

        // Create the default UI components
        var ui = H.ui.UI.createDefault(map, defaultLayers);


        function ReloadMap() {
            
            appearAll();

            var routingParameters = {
                // The routing mode:
                'mode': 'fastest;car',
                // The start point of the route:
                'waypoint0': 'geo!21.06352,-101.58038',
                // The end point of the route:
                'waypoint1': 'geo!21.0941806,-101.6643947',
                // To retrieve the shape of the route we choose the route
                // representation mode 'display'
                'representation': 'display'
            };

            router.calculateRoute(routingParameters, onResult,
                function(error) {
                    alert(error.message);
                });
            
               var points = [
  { lat: 21.062452, lng: -101.581779 },
  { lat: 21.062072, lng: -101.580749 },
  { lat: 21.061151, lng: -101.580448 },
  { lat: 21.059308, lng: -101.582079 },
  { lat: 21.112964, lng: -101.649885 },
  { lat: 21.114706, lng: -101.653254 },
  { lat: 21.102175, lng: -101.660528 },
  { lat: 21.094567, lng: -101.664026 }
];



// Initialize a linestring and add all the points to it:
var linestring = new H.geo.LineString();
points.forEach(function(point) {
  linestring.pushPoint(point);
});

// Initialize a polyline with the linestring:
var polyline = new H.map.Polyline(linestring, { style: { lineWidth: 10,fillColor: 'rgba(229, 51, 4, 0.3)',strokeColor: 'rgba(229, 51, 4, 1)' }});

// Add the polyline to the map:

map.addObject(polyline);
// Zoom the map to make sure the whole polyline is visible:
map.setViewBounds(polyline.getBounds());

        }
        // Define a callback function to process the routing response:
        var onResult = function(result) {
            var route,
                routeShape,
                startPoint,
                endPoint,
                linestring;
            if (result.response.route) {
                // Pick the first route from the response:
                route = result.response.route[0];
                // Pick the route's shape:
                routeShape = route.shape;

                // Create a linestring to use as a point source for the route line
                linestring = new H.geo.LineString();

                // Push all the points in the shape into the linestring:
                routeShape.forEach(function(point) {
                    var parts = point.split(',');
                    linestring.pushLatLngAlt(parts[0], parts[1]);
                });

                // Retrieve the mapped positions of the requested waypoints:
                startPoint = route.waypoint[0].mappedPosition;
                endPoint = route.waypoint[1].mappedPosition;

                // Create a polyline to display the route:
                routeLine = new H.map.Polyline(linestring, {
                    style: {
                        lineWidth: 10
                    },
                    arrows: {
                        fillColor: 'white',
                        frequency: 2,
                        width: 0.8,
                        length: 0.7
                    }
                });

                // Create a marker for the start point:
                var startMarker = new H.map.Marker({
                    lat: startPoint.latitude,
                    lng: startPoint.longitude
                });

                // Create a marker for the end point:
                var endMarker = new H.map.Marker({
                    lat: endPoint.latitude,
                    lng: endPoint.longitude
                });

                // Add the route polyline and the two markers to the map:
                map.addObjects([routeLine, startMarker, endMarker]);

                // Set the map's viewport to make the whole route visible:
                map.setViewBounds(routeLine.getBounds());
            }
        };

        // Get an instance of the routing service:
        var router = platform.getRoutingService();

        // Now use the map as required...
        addSVGMarkers(map);

    </script>

</body>

</html>
